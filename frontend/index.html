<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager</title>
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
</head>
<body>
<div class="app-container">
    <div id="login-container" class="container animate__animated animate__fadeIn">
        <h2>Login</h2>
        <form id="login-form" onsubmit="handleLogin(event)">
            <div class="form-group">
                <input type="email" id="login-email" placeholder="Email" required>
                <span class="error-message" id="login-email-error"></span>
            </div>
            <div class="form-group">
                <input type="password" id="login-password" placeholder="Senha" required minlength="6">
                <span class="error-message" id="login-password-error"></span>
            </div>
            <button type="submit" class="btn btn-primary">Entrar</button>
        </form>
        <p>Não tem uma conta? <a href="#" onclick="showRegister()">Cadastre-se</a></p>
    </div>

    <div id="register-container" class="container animate__animated animate__fadeIn hidden">
        <h2>Cadastro</h2>
        <form id="register-form" onsubmit="handleRegister(event)">
            <div class="form-group">
                <input type="text" id="register-name" placeholder="Nome" required>
                <span class="error-message" id="register-name-error"></span>
            </div>
            <div class="form-group">
                <input type="email" id="register-email" placeholder="Email" required>
                <span class="error-message" id="register-email-error"></span>
            </div>
            <div class="form-group">
                <input type="password" id="register-password" placeholder="Senha" required minlength="6">
                <span class="error-message" id="register-password-error"></span>
            </div>
            <button type="submit" class="btn btn-primary">Cadastrar</button>
        </form>
        <p>Já tem uma conta? <a href="#" onclick="showLogin()">Faça login</a></p>
    </div>

    <div id="task-container" class="container animate__animated animate__fadeIn hidden">
        <header class="task-header">
            <h2>Gerenciador de Tarefas</h2>
            <button onclick="logout()" class="btn btn-outline">Sair</button>
        </header>

        <div class="task-controls">
            <button onclick="showTaskForm()" class="btn btn-primary">Nova Tarefa</button>
            <div class="filter-sort">
                <select id="filter-status" onchange="filterTasks()" class="select-control">
                    <option value="all">Todos Status</option>
                    <option value="TODO">Para Fazer</option>
                    <option value="DOING">Em Andamento</option>
                    <option value="DONE">Concluído</option>
                </select>
                <select id="sort-options" onchange="sortTasks()" class="select-control">
                    <option value="priority">Prioridade</option>
                    <option value="date">Data</option>
                    <option value="status">Status</option>
                    <option value="category">Categoria</option>
                </select>
            </div>
        </div>

        <div id="task-list" class="task-list"></div>
    </div>

    <div id="task-form-container" class="modal hidden">
        <div class="modal-content animate__animated animate__zoomIn">
            <h2 id="task-form-title">Nova Tarefa</h2>
            <form id="task-form" onsubmit="handleTaskSubmit(event)">
                <div class="form-group">
                    <input type="text" id="task-title" placeholder="Título" required>
                </div>
                <div class="form-group">
                    <textarea id="task-desc" placeholder="Descrição" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-priority">Prioridade</label>
                        <select id="task-priority" required class="select-control">
                            <option value="1">Baixa</option>
                            <option value="2">Média-Baixa</option>
                            <option value="3">Média</option>
                            <option value="4">Média-Alta</option>
                            <option value="5">Alta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="task-status">Status</label>
                        <select id="task-status" required class="select-control">
                            <option value="TODO">Para Fazer</option>
                            <option value="DOING">Em Andamento</option>
                            <option value="DONE">Concluído</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="task-date">Data</label>
                        <input type="date" id="task-date" required>
                    </div>
                    <div class="form-group">
                        <label for="task-category">Categoria</label>
                        <input type="text" id="task-category" placeholder="Categoria" required>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" onclick="hideTaskForm()" class="btn btn-outline">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="toast" class="toast hidden"></div>

<script src="./js/script.js"></script>
</body>
</html>